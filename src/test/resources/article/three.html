<article id="post-ajax与302" class="article article-type-post" itemscope="" itemprop="blogPost">
                    <div class="article-inner">
                        <header class="article-header">
                            <h1 itemprop="name">
                                <a class="article-title" href="http://hejx.me/2016/04/06/ajax%E4%B8%8E302/">ajax与302</a>
                            </h1>
                        </header>
                        <div class="article-meta">
                            <a href="http://hejx.me/2016/04/06/ajax%E4%B8%8E302/" class="article-date">
                                <time datetime="2016-04-06T02:10:59.000Z" itemprop="datePublished">2016-04-06</time>
                            </a>
                        </div>
                        <div class="article-entry" itemprop="articleBody">
                            <blockquote>
                                <p>You can’t handle redirects with XHR callbacks because the browser takes care of them
                                    automatically. You will only get back what at the redirected location.</p>
                            </blockquote>
                            <p>
                                在ajax进行请求时，如果服务器返回302（重定向），ajax并不会马上收的，因为浏览器自动去访问了重定向的哪个连接，然后再返回结果。也就说，如果需要重定向的连接或者说是接口，是合法可以调用的，那ajax会返回重定向的那个连接的调用结果，反则就返回404。</p>
                            <p>大概流程如下：</p>
                            <figure class="highlight livescript">
                                <table>
                                    <tbody>
                                    <tr>
                                        <td class="gutter">
                                            <pre><span class="line">1</span><br></pre>
                                        </td>
                                        <td class="code">
                                            <pre><span class="line">ajax<span
                                                    class="function"> -&gt;</span> browser<span
                                                    class="function"> -&gt;</span> server<span
                                                    class="function"> -&gt;</span> <span class="number">302</span><span
                                                    class="function"> -&gt;</span> browser<span class="function"><span
                                                    class="params">(redirect)</span> -&gt;</span> server<span
                                                    class="function"> -&gt;</span> browser<span
                                                    class="function"> -&gt;</span> ajax callback</span><br></pre>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </figure>
                            <p>如是需要利用重定向来跳转到某些页面，就不能直接返还302了。</p>
                            <p>常见的情况，登录过期，需要跳转到登录页面，这种情况，建议在返回需要重定向的状态码，例如返回{status: 302}, 然后由前端进行页面跳转。</p>
                        </div>
                    </div>
                </article>